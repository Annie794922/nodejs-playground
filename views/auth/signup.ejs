<%- include('../includes/header.ejs')%>

</head>
<body>
  <%- include('../includes/navbar.ejs') %>
  <div class="container-md pt-3">
    <div class="row justify-content-center">

          <div class="col-8 text-center">
            <h1>Signup</h1>
          </div>

          <% if (errorMessage) { %>
            <div class="col-8">
              <div class="alert alert-danger" role="alert">
                <%= errorMessage %>
              </div>
            </div>
          <% } %>
            <!-- 在input欄位的value裡輸入的值會成為預設值顯示在頁面上，方便測試資料時快速註冊測試用帳號 -->
          <div class="col-8">
            <form class="row g-3 was-validated justify-content-center" action="/signup" method="POST"> 
            <!-- 點選之後要採取的動作和資料傳送方式 -->
              <div>
                <label for="displayName" class="form-label">Display Name</label>
                <input type="text" class="form-control" id="displayName" placeholder="Display Name" name="displayName" maxlength="20" required value="Test">
                <!-- label和input的屬性設定要有關聯性(for/type/id/name)，name裡面設定的值在送出表單後會成為res.body裡面的key，因此一定要設定 -->

                <!-- req.body ={
                  displayName: 'Admin',
                  email: 'admin@skoob.com',
                  password: '11111111'
                } -->
                <div class="invalid-feedback">
                    顯示名稱最長不得超過 20 字元。
                </div>
              </div>

              <div>
                <label for="card" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" placeholder="example@com" name="email" required value="123@test.com">
                <div class="invalid-feedback">
                  請輸入合法的電子郵件地址。
                </div>
              </div>

              <div>
                <label for="password" class="form-label">Password</label>
                <input type="password" class="form-control" id="password" placeholder="password" name="password" minlength="8"  maxlength="12" required value="11111111">
                <div class="invalid-feedback">
                    請輸入 8 ~ 12 位數的密碼。
                </div>
              </div>
              <!-- 在發送POST request的時候就要執行csrfToken -->
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                <button class="btn btn-primary" type="submit">Signup</button>
              <!-- type的值要寫submit -->
              </form>
          </div>

    </div>

      <%- include('../includes/footer.ejs') %> 

      <!-- *補充：點選眼睛後可以顯示/隱藏密碼的效果(概念) -->
      <!-- showPassword = false;
      <input type="showPassword === true ? 'text' : 'password'" class="form-control" id="password" ...
        *後面的眼睛再寫判斷式去分析showPassword的true/false即可 -->